import{c as e,a as o,n as t,o as n,r as d,w as i,v as l,b as r,t as a,d as s,u,e as c,f as p,g as f,F as g,h as m,i as T,m as h,j as x}from"./vendor.dd847e5b.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&o(e)})).observe(document,{childList:!0,subtree:!0})}function o(e){if(e.ep)return;e.ep=!0;const o=function(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?o.credentials="include":"anonymous"===e.crossorigin?o.credentials="omit":o.credentials="same-origin",o}(e);fetch(e.href,o)}}();const v={props:["filter"],emits:["change-filter"],setup:(e,{emit:o})=>({changeFilter:e=>{o("change-filter",e)}})},b={class:"mb-4 space-x-4"};v.render=function(d,i,l,r,a,s){return n(),e("nav",b,[o("button",{class:t(["font-semibold focus:outline-none","all"===l.filter?"text-indigo-600":"text-indigo-300"]),onClick:i[0]||(i[0]=e=>r.changeFilter("all"))},"全部",2),o("button",{class:t(["font-semibold focus:outline-none","undone"===l.filter?"text-indigo-600":"text-indigo-300"]),onClick:i[1]||(i[1]=e=>r.changeFilter("undone"))},"未完成",2),o("button",{class:t(["font-semibold focus:outline-none","done"===l.filter?"text-indigo-600":"text-indigo-300"]),onClick:i[2]||(i[2]=e=>r.changeFilter("done"))},"已完成",2)])};const w={emits:["add-todo"],setup(e,{emit:o}){const t=d("");return{newTodo:t,addToHandler:()=>{o("add-todo",t.value),t.value=""}}}},k=o("button",{class:"absolute right-0 inset-y-0 w-10 bg-gradient-to-t from-indigo-600 to-purple-500 text-white rounded-full"},"+",-1);w.render=function(t,d,a,s,u,c){return n(),e("form",{action:"",class:"relative mb-6",onSubmit:d[1]||(d[1]=r(((...e)=>s.addToHandler&&s.addToHandler(...e)),["prevent"]))},[i(o("input",{"onUpdate:modelValue":d[0]||(d[0]=e=>s.newTodo=e),type:"text",class:"px-5 w-full rounded-full border-none focus:ring-0 shadow-lg"},null,512),[[l,s.newTodo]]),k],32)};const y={props:["id","content","isDone"],emits:["update-state","delete-todo","update-todo"],setup(e,{emit:o}){const t=d(!1);return{isEditing:t,changeState:t=>{o("update-state",e.id,t.target.checked)},deleteTodo:()=>{o("delete-todo",e.id)},editTodo:()=>{t.value=!0},updateTodo:n=>{o("update-todo",e.id,e.content),t.value=!1}}}},S={class:"flex bg-white rounded-md"},D={class:"flex items-center flex-grow px-5 py-2"},F=["checked"],C=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 stroke-current",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)];y.render=function(d,r,u,c,p,f){return n(),e("li",S,[o("div",D,[o("input",{checked:u.isDone,type:"checkbox",name:"",id:"",class:"flex-shrink-0 mr-2 w-5 h-5 text-indigo-600 rounded-full focus:ring-0 focus:ring-offset-0",onChange:r[0]||(r[0]=(...e)=>c.changeState&&c.changeState(...e))},null,40,F),c.isEditing?i((n(),e("input",{key:1,type:"text",class:"flex-grow p-1 border-none focus:ring-indigo-600 rounded-md","onUpdate:modelValue":r[2]||(r[2]=e=>u.content=e),onKeyup:r[3]||(r[3]=s(((...e)=>c.updateTodo&&c.updateTodo(...e)),["enter"])),onBlur:r[4]||(r[4]=(...e)=>c.updateTodo&&c.updateTodo(...e))},null,544)),[[l,u.content]]):(n(),e("p",{key:0,class:t(["flex-grow p-1 text-indigo-700",[u.isDone?"line-through":""]]),onDblclick:r[1]||(r[1]=(...e)=>c.editTodo&&c.editTodo(...e))},a(u.content),35))]),o("button",{class:"flex-shrink-0 px-5 py-3 text-indigo-300 hover:text-red-600",onClick:r[5]||(r[5]=(...e)=>c.deleteTodo&&c.deleteTodo(...e))},C)])};const I={components:{TodoFilter:v,TodoInput:w,TodoItem:y},setup(){const{todos:e,filter:o,renderTodos:t}=function(){const e=u("todos",[{id:1,content:"學 Vite 和 Tailwind CSS",isDone:!1}]),o=d("all"),t=c((()=>"undone"===o.value?e.value.filter((e=>!e.isDone)):"done"===o.value?e.value.filter((e=>e.isDone)):e.value));return{todos:e,filter:o,renderTodos:t}}(),{addTodo:n,updateState:i,deleteTodo:l,updateTodo:r,changeFilter:a}=function(e,o){return{addTodo:e=>{o.value.push({id:Date.now(),content:e,isDone:!1})},updateState:(e,t)=>{const n=o.value.findIndex((o=>o.id===e));-1!==n&&(o.value[n].isDone=t)},deleteTodo:e=>{const t=o.value.findIndex((o=>o.id===e));-1!==t&&o.value.splice(t,1)},updateTodo:(e,t)=>{const n=o.value.findIndex((o=>o.id===e));-1!==n&&(o.value[n].content=t)},changeFilter:o=>{e.value=o}}}(o,e);return{todos:e,filter:o,renderTodos:t,addTodo:n,updateState:i,deleteTodo:l,updateTodo:r,changeFilter:a}}},L={class:"min-h-screen py-20 bg-gradient-to-tr from-indigo-600 to-purple-500"},U=o("h1",{class:"mb-6 text-center text-5xl text-white font-bold"},"TODOLIST",-1),A={class:"bg-indigo-50 mx-auto max-w-sm p-6 rounded-lg shadow-lg"},H={class:"space-y-3"};I.render=function(t,d,i,l,r,a){const s=p("TodoInput"),u=p("TodoFilter"),c=p("TodoItem");return n(),e("div",L,[U,o("div",A,[f(s,{onAddTodo:l.addTodo},null,8,["onAddTodo"]),f(u,{filter:l.filter,onChangeFilter:l.changeFilter},null,8,["filter","onChangeFilter"]),o("ul",H,[(n(!0),e(g,null,m(l.renderTodos,(e=>(n(),T(c,h({key:e.id},e,{onUpdateState:l.updateState,onDeleteTodo:l.deleteTodo,onUpdateTodo:l.updateTodo}),null,16,["onUpdateState","onDeleteTodo","onUpdateTodo"])))),128))])])])};x(I).mount("#app");
